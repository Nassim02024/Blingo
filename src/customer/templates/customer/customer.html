{% load static %} {% load i18n %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>your acount</title>
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="{% static 'core/images/logo-tap-icon.png' %} "
    />
    <link
      rel="icon"
      type="image/png"
      sizes="512x512"
      href="{% static 'core/images/logo-blingo-512x512.png' %} "
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="{% static 'core/images/logo-blingo-192x192.png' %} "
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="{% static 'core/images/logo-blingo-apple-touch-icon.png' %} "
    />
    <link
      rel="shortcut icon"
      href="{% static 'core/images/logo-tap-icon.png' %}"
    />
    <link rel="stylesheet" href="{% static 'customer/css/customer.css' %}" />

    <link
      rel="stylesheet"
      href="https://unpkg.com/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <section class="bg-light py-3 py-md-5 py-xl-8">
      <div class="container">
        <div class="row justify-content-md-center">
          <div class="col-12 col-md-10 col-lg-8 col-xl-7 col-xxl-6">
            <h2 class="mb-4 display-5 text-center">
              {% trans 'Profile ' %}&nbsp;<i class="bi bi-person-vcard"></i>
            </h2>
            <hr class="w-50 mx-auto mb-5 mb-xl-9 border-dark-subtle" />
          </div>
        </div>
      </div>

      <div class="container">
        <div class="row gy-4 gy-lg-0">
          <div class="col-12 col-lg-4 col-xl-3">
            <div class="row gy-4">
              <div class="col-12">
                <div class="card widget-card border-light shadow-sm">
                  <div class="card-header text-bg-primary">
                    {% trans 'Welcome' %} {{request.user}}
                  </div>
                  <div class="card-body">
                    <div class="text-center mb-3">
                      <img
                        src="{% static 'customer/images/person.svg' %}"
                        alt="persoon"
                        loading="lazy"
                      />
                    </div>
                    <!-- <p class="text-center text-secondary mb-4">{% trans 'Project Manager' %}</p>{% trans '-->
                    <ul class="list-group list-group-flush mb-4">
                      <li
                        class="list-group-item d-flex justify-content-between align-items-center"
                      >
                        <h6 class="m-0">
                          <i class="bi bi-geo-alt-fill"></i>{% trans 'Address'
                          %}
                        </h6>
                        <span>{% trans 'Touggourt' %}</span>
                      </li>
                      <li
                        class="list-group-item d-flex justify-content-between align-items-center"
                        style="
                          border-bottom: 1px solid #dee2e6;
                          background-color: rgba(0, 0, 255, 0.715);
                          border-radius: 20px;
                          margin-top: 10px;
                          color: white;
                        "
                      >
                        <h6 class="m-0">{% trans 'Log Out' %}</h6>
                        <span>
                          <a
                            href="{% url 'users:logout_view' %}"
                            style="text-decoration: none"
                            ><h6 class="m-0">
                              <i
                                class="bi bi-box-arrow-left"
                                style="color: rgb(243, 243, 243)"
                              ></i></h6
                          ></a>
                        </span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-8 col-xl-9">
            <div class="card widget-card border-light shadow-sm">
              <div class="card-body pc-4">
                <ul class="nav nav-tabs" id="profileTab" role="tablist">
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link active"
                      id="overview-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#overview-tab-pane"
                      type="button"
                      role="tab"
                      aria-controls="overview-tab-pane"
                      aria-selected="true"
                    >
                      {% trans 'Overview' %}
                    </button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link"
                      id="email-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#email-tab-pane"
                      type="button"
                      role="tab"
                      aria-controls="email-tab-pane"
                      aria-selected="false"
                    >
                      {% trans 'Orders' %}
                    </button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link"
                      id="profile-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#profile-tab-pane"
                      type="button"
                      role="tab"
                      aria-controls="profile-tab-pane"
                      aria-selected="false"
                    >
                      {% trans 'Profile' %}
                    </button>
                  </li>

                  <!-- <li class="nav-item" role="presentation">
                <button class="nav-link" id="password-tab" data-bs-toggle="tab" data-bs-target="#password-tab-pane" type="button" role="tab" aria-controls="password-tab-pane" aria-selected="false">{% trans 'Password' %}</button>
              </li>{% trans '-->
                </ul>

                <div class="tab-content pt-4" id="profileTabContent">
                  <div
                    class="tab-pane fade show active"
                    id="overview-tab-pane"
                    role="tabpanel"
                    aria-labelledby="overview-tab"
                    tabindex="0"
                  >
                    <h5 class="mb-3">{% trans 'Dashboard' %}</h5>
                    <div class="over">
                      <div
                        class="sale align-items-center p-3 d-grid w-100"
                        style="grid-template-columns: repeat(3, 1fr)"
                      >
                        <i class="d-flex"
                          ><img
                            class="icon-oder-detils"
                            src="{% static 'customer/images/shopping_cart_checkout.svg'%}"
                            alt="shopping_cart"
                            loading="lazy"
                          />
                          <span class="mt-2" style="line-height: inherit">
                            {% comment %} {% for o in order %} {% endcomment %}
                            <p>{{order.count}}</p>
                            {% comment %} {% endfor %} {% endcomment %}
                            <p>{% trans 'Order' %}</p>
                          </span>
                        </i>
                        <i class="d-flex"
                          ><img
                            class="icon-oder-detils"
                            src="{% static 'customer/images/credit.svg'%}"
                            alt="credit-card"
                            loading="lazy"
                          />
                          <span class="mt-2" style="line-height: 0.3">
                            <p class="spant">{{order.product_price}}</p>
                            <p>{% trans 'Total spant' %}</p>
                          </span>
                        </i>
                        <i class="d-flex"
                          ><img
                            class="icon-oder-detils"
                            src="{% static 'customer/images/notifications.svg'%}"
                            alt="notifications"
                            loading="lazy"
                          />
                          <span class="mt-2" style="line-height: 0.3">
                            <p>0</p>
                            <p>{% trans 'Notification' %}</p>
                          </span>
                        </i>
                      </div>
                      <div class="badget"></div>
                      <div class="notification"></div>
                    </div>
                  </div>
                  <div
                    class="tab-pane fade"
                    id="email-tab-pane"
                    role="tabpanel"
                    aria-labelledby="email-tab"
                    style="width: 100%"
                  >
                    <div class="row" style="position: relative">
                      <div class="col-12">
                        <div class="card mb-4">
                          <div class="card-body px-0 pt-0 pb-2">
                            <div class="table-responsive p-0">
                              <table
                                class="table align-items-center justify-content-center mb-0"
                              >
                                <thead>
                                  <tr>
                                    <th
                                      class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"
                                    >
                                      Id
                                    </th>
                                    <th
                                      class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"
                                    >
                                      {% trans 'Budget' %}
                                    </th>
                                    <th
                                      class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"
                                    >
                                      {% trans 'Date' %}
                                    </th>
                                    <th
                                      class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"
                                    >
                                      {% trans 'State' %}
                                    </th>
                                    <th
                                      class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"
                                    >
                                      {% trans 'Action' %}
                                    </th>
                                    <th></th>
                                  </tr>
                                </thead>

                                <tbody>
                                  {% for o in order %}
                                  <tr>
                                    <td>
                                      <div class="d-flex px-2">
                                        <div class="my-auto">
                                          <h6 class="mb-0 text-sm">{{o.id}}</h6>
                                        </div>
                                      </div>
                                    </td>
                                    <td>
                                      <p
                                        class="text-sm font-weight-bold mb-0 price_one_pro"
                                      >
                                        {{o.product_price}}
                                      </p>
                                    </td>
                                    <td>
                                      <span class="text-xs font-weight-bold"
                                        >{{o.order_date}}</span
                                      >
                                    </td>
                                    <td>
                                      <span class="text-xs font-weight-bold"
                                        >{{o.product_status}}</span
                                      >
                                    </td>
                                    <td>
                                      <a href="{% url 'detilsview' o.id %}"
                                        ><span class="text-xs font-weight-bold"
                                          >{% trans 'view' %}</span
                                        ></a
                                      >
                                    </td>
                                  </tr>
                                  {% endfor %}
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div
                    class="tab-pane fade"
                    id="profile-tab-pane"
                    role="tabpanel"
                    aria-labelledby="profile-tab"
                    tabindex="0"
                  >
                    <h5 class="mb-3">{% trans 'Profile' %}</h5>
                    <div class="row g-0">
                      <div
                        class="col-5 col-md-3 bg-light border-bottom border-white border-3"
                      >
                        <div class="p-2">{% trans 'Name' %}</div>
                      </div>
                      <div
                        class="col-7 col-md-9 bg-light border-start border-bottom border-white border-3"
                      >
                        <div class="p-2">{{request.user}}</div>
                      </div>
                      <!-- <div class="col-5 col-md-3 bg-light border-bottom border-white border-3">
                    <div class="p-2">{% trans 'Last Name' %}</div>
                  </div>
                  <div class="col-7 col-md-9 bg-light border-start border-bottom border-white border-3">
                    <div class="p-2">{% trans 'Leo' %}</div>
                  </div>{% trans '-->
                      <div
                        class="col-5 col-md-3 bg-light border-bottom border-white border-3"
                      >
                        <div class="p-2">{% trans 'Address' %}</div>
                      </div>
                      <div
                        class="col-7 col-md-9 bg-light border-start border-bottom border-white border-3"
                      >
                        <div class="p-2">{% trans 'Touggourt' %}</div>
                      </div>
                      <div
                        class="col-5 col-md-3 bg-light border-bottom border-white border-3"
                      >
                        <div class="p-2">{% trans 'Country' %}</div>
                      </div>
                      <div
                        class="col-7 col-md-9 bg-light border-start border-bottom border-white border-3"
                      >
                        <div class="p-2">{% trans 'Algeria' %}</div>
                      </div>
                      <div
                        class="col-5 col-md-3 bg-light border-bottom border-white border-3"
                      >
                        <div class="p-2">{% trans 'Phone' %}</div>
                      </div>
                      <div
                        class="col-7 col-md-9 bg-light border-start border-bottom border-white border-3"
                      >
                        <div class="p-2">{% trans '+213 **********' %}</div>
                      </div>
                      <div
                        class="col-5 col-md-3 bg-light border-bottom border-white border-3"
                      >
                        <div class="p-2">{% trans 'Email' %}</div>
                      </div>
                      <div
                        class="col-7 col-md-9 bg-light border-start border-bottom border-white border-3"
                      >
                        <div class="p-2">{{user.email}}</div>
                      </div>
                    </div>
                  </div>

                  <div
                    class="tab-pane fade"
                    id="email-tab-pane"
                    role="tabpanel"
                    aria-labelledby="email-tab"
                    tabindex="0"
                  >
                    <h5>{% trans 'nn1509789@gmail.com' %}</h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      let spant = document.querySelector(".spant");
      let priceonepro = document.querySelectorAll(".price_one_pro");

      for (let i = 0; i < priceonepro.length; i++) {
        let total = 0;
        priceonepro.forEach((element) => {
          total += parseFloat(element.innerHTML);
        });
        spant.innerHTML = "Dz" + " " + total;
      }
    </script>
    <script src="https://unpkg.com/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
